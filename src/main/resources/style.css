/* ===================================================================
 * CineSphere Custom Styles - Overriding AtlantaFX Dracula Theme
 * =================================================================== */

/*
 * Cine Dark Theme - Overriding AtlantaFX Dracula
 *
 * Este bloque CSS redefine la paleta de colores central para lograr un tema oscuro
 * profundo y neutral, inspirado en servicios de streaming como Netflix/HBO,
 * haciendo que las carátulas de películas destaquen. Elimina los tintes
 * gris-azulados y morados del tema original de Drácula.
 */
.root {
    /* ==========================================================================
       1. Paleta de Colores Personalizada (Cine Dark)
       ========================================================================== */

    /* Fuente global para toda la aplicación */
    -fx-font-family: "Roboto", "Open Sans", "Segoe UI", sans-serif;

    /* Fondos */
    -color-bg-default: #0f1014; /* Fondo casi negro, profundo */
    -color-bg-subtle: #181920;  /* Para tarjetas, paneles secundarios, campos de entrada */
    -color-bg-overlay: #252730; /* Para modales, dropdowns, popovers */
    -color-bg-hover: #2A2A4A;  /* Fondo para elementos al pasar el ratón */


    /* Bordes */
    -color-border-default: #33353d; /* Gris oscuro neutro para bordes generales */
    -color-border-muted: #25262c;  /* Bordes más sutiles */

    /* Acentos (Tu Azul) */
    -color-accent-emphasis: #0078FF; /* Azul vibrante para acciones primarias, resaltados */
    -color-accent-muted: rgba(0, 120, 255, 0.15); /* Azul transparente para chips/tags */
    -color-focus-ring: -color-accent-emphasis; /* Anillo de enfoque del mismo azul */


    /* Colores de Texto */
    -color-text-default: #E0E0E0; /* Gris claro para texto general */
    -color-text-muted: #A0A0A0; /* Gris ligeramente más oscuro para texto secundario/atenuado */
    -color-text-on-accent: white; /* Color de texto cuando está sobre un fondo de acento */

    /* Colores de Estado */
    -color-warning-emphasis: #FFB86C; /* Amarillo/Naranja para ratings */
    -color-danger-emphasis: #FF6B6B; /* Rojo para acciones peligrosas */
    -color-danger-fg: #FFFFFF; /* Texto blanco sobre peligro */
    -color-danger-muted: #3A1A1A; /* Fondo atenuado para peligro */


    /* ==========================================================================
       2. Sobreescritura de Variables de AtlantaFX / JavaFX
       ========================================================================== */

    /* Colores base y de fondo de JavaFX/AtlantaFX */
    -fx-base: -color-bg-default;
    -fx-background: -color-bg-default;
    -fx-control-inner-background: -color-bg-subtle; /* Para campos de texto, combo boxes, etc. */
    -fx-body-color: -color-bg-default; /* Asegura que el cuerpo también use el fondo predeterminado */

    /* Texto y selección */
    -fx-text-fill: -color-text-default;
    -fx-selection-bar: -color-accent-emphasis;
    -fx-selection-bar-text: -color-text-on-accent;
    -fx-highlight-text-fill: -color-text-on-accent;

    /* Acento y foco */
    -fx-accent: -color-accent-emphasis;
    -fx-focus-color: -color-accent-emphasis;
    -fx-default-button-text-fill: -color-text-on-accent;

    /* Bordes */
    -fx-border-color: -color-border-default;
    -fx-box-border: -color-border-default;


    /* ==========================================================================
       3. Sobreescrituras Específicas del Tema Drácula (para asegurar la eliminación de tintes)
       ========================================================================== */
    /* Estas variables se utilizan a menudo en los temas de Drácula.
       Las mapeamos a nuestra nueva paleta para eliminar completamente los colores antiguos. */
    -color-dracula-background: -color-bg-default;
    -color-dracula-current-line: -color-bg-subtle;
    -color-dracula-selection: -color-bg-overlay;
    -color-dracula-foreground: -color-text-default;
    -color-dracula-comment: -color-text-muted;
    -color-dracula-cyan: #8be9fd; /* Mantenemos un azul claro para resaltados específicos si es necesario */
    -color-dracula-green: #50fa7b;
    -color-dracula-orange: #ffb86c;
    -color-dracula-pink: #ff79c6;
    -color-dracula-purple: -color-accent-emphasis; /* Redirigimos el morado a nuestro azul de acento */
    -color-dracula-red: #ff5555;
    -color-dracula-yellow: #f1fa8c;

    /* Sobreescritura genérica de morado, por si acaso */
    -color-purple: -color-accent-emphasis;
}

/* Estilos generales para el texto */
.label {
    -fx-text-fill: -color-text-default;
}

/* 2. Efecto 'Glassmorphism' (Vidrio) */
/* Para el menú lateral */
#sidebar {
    -fx-background-color: rgba(20, 20, 30, 0.85); /* Negro semitransparente */
    -fx-background-radius: 0 10 10 0; /* Esquinas redondeadas solo a la derecha */
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.3), 10, 0, 0, 0); /* Sombra sutil */
    -fx-border-color: -color-border-default;
    -fx-border-width: 0 1 0 0; /* Borde solo a la derecha */
    -fx-padding: 20 15 20 15; /* Padding consistente */
    -fx-spacing: 10; /* Espaciado consistente */
}

/* Para la barra superior */
.topbar {
    -fx-background-color: rgba(20, 20, 30, 0.85); /* Negro semitransparente */
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.3), 10, 0, 0, 0); /* Sombra sutil */
    -fx-border-color: -color-border-default;
    -fx-border-width: 0 0 1 0; /* Borde solo abajo */
    -fx-padding: 10 20 10 20; /* Padding consistente */
    -fx-spacing: 15; /* Espaciado consistente */
}

/* 3. Cinematic Glow (Resplandor) */
.neon-glow {
    -fx-effect: dropshadow(gaussian, -color-accent-emphasis, 40, 0.5, 0, 0); /* Resplandor intenso del color de marca */
    -fx-background-color: -color-bg-subtle; /* Mantener el fondo de la tarjeta */
    -fx-background-radius: 10;
    -fx-border-color: -color-accent-emphasis; /* Borde del color de marca */
    -fx-border-width: 2;
    -fx-border-radius: 10;
    -fx-transition: all 0.3s ease-in-out; /* Transición suave para activar/desactivar */
}

/* ===================================================================
 * Estilos de Componentes UI Estándar (Sobrescrituras)
 * =================================================================== */

/* TextField y PasswordField */
.text-field, .password-field {
    -fx-background-color: -fx-control-inner-background; /* Fondo oscuro */
    -fx-text-fill: -color-text-default;
    -fx-prompt-text-fill: -color-text-muted;
    -fx-border-color: -color-border-default; /* Borde neutro */
    -fx-border-width: 1;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-padding: 8 10;
    -fx-highlight-fill: -color-accent-emphasis;
    -fx-highlight-text-fill: -color-text-on-accent;
}
.text-field:focused, .password-field:focused {
    -fx-border-color: -color-focus-ring;
    -fx-effect: dropshadow(gaussian, -color-focus-ring, 5, 0.2, 0, 0);
    -fx-background-color: derive(-fx-control-inner-background, 5%); /* Ligeramente más claro al enfocar */
}
.text-field.rounded, .password-field.rounded {
    -fx-border-radius: 20;
    -fx-background-radius: 20;
}

/* ComboBox */
.combo-box {
    -fx-background-color: -fx-control-inner-background; /* Fondo oscuro */
    -fx-border-color: -color-border-default; /* Borde neutro */
    -fx-border-width: 1;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-mark-color: -color-text-default; /* Color de la flecha */
}
.combo-box .list-cell {
    -fx-text-fill: -color-text-default;
    -fx-background-color: -color-bg-default;
}
.combo-box .list-cell:filled:selected, .combo-box .list-cell:filled:selected:hover {
    -fx-background-color: -color-accent-emphasis;
    -fx-text-fill: -color-text-on-accent;
}
.combo-box .list-cell:filled:hover {
    -fx-background-color: -color-bg-hover;
}
/* Corrección para la flecha del ComboBox */
.combo-box .arrow-button .arrow {
    -fx-background-color: -color-text-default;
}

/* DatePicker */
.date-picker {
    -fx-background-color: -color-bg-default;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-border-radius: 5;
    -fx-background-radius: 5;
}
.date-picker .text-field {
    -fx-background-color: transparent; /* El text-field dentro del date-picker */
    -fx-border-width: 0;
    -fx-background-radius: 0;
}
.date-picker .arrow-button {
    -fx-background-color: transparent;
}
.date-picker .arrow-button .arrow {
    -fx-background-color: -color-text-default;
}
.date-picker .calendar-day-cell {
    -fx-text-fill: -color-text-default;
}
.date-picker .calendar-day-cell:selected {
    -fx-background-color: -color-accent-emphasis;
    -fx-text-fill: -color-text-on-accent;
}

/* TextArea */
.text-area {
    -fx-background-color: -color-bg-default;
    -fx-text-fill: -color-text-default;
    -fx-prompt-text-fill: -color-text-muted;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-border-radius: 5;
    -fx-background-radius: 5;
    -fx-padding: 8 10;
}
.text-area:focused {
    -fx-border-color: -color-focus-ring;
    -fx-effect: dropshadow(gaussian, -color-focus-ring, 5, 0.2, 0, 0);
}
.text-area .content {
    -fx-background-color: transparent;
}


/* TableView */
.table-view {
    -fx-background-color: -color-bg-subtle;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-border-radius: 10;
    -fx-background-radius: 10;
}
.table-view .column-header-background {
    -fx-background-color: -color-bg-default;
    -fx-background-radius: 10 10 0 0;
}
.table-view .column-header .label {
    -fx-text-fill: -color-text-default;
    -fx-font-weight: bold;
}
.table-view .table-cell {
    -fx-text-fill: -color-text-default;
    -fx-background-color: -color-bg-subtle;
    -fx-border-color: transparent; /* Eliminar bordes de celda */
    -fx-padding: 8 10;
}
/* MODIFICACIÓN: Resaltado de fila seleccionada en TableView */
.table-view .table-row-cell:selected {
    -fx-background-color: derive(-color-accent-emphasis, -20%); /* Un azul más oscuro y sólido */
    -fx-text-fill: -color-text-on-accent; /* Texto blanco para contraste */
}
.table-view .table-row-cell:selected .table-cell {
    -fx-text-fill: -color-text-on-accent; /* Asegura que el texto de las celdas también sea blanco */
}
.table-view .table-row-cell:hover {
    -fx-background-color: -color-bg-hover;
}
.table-view .scroll-bar:vertical .increment-button,
.table-view .scroll-bar:vertical .decrement-button,
.table-view .scroll-bar:horizontal .increment-button,
.table-view .scroll-bar:horizontal .decrement-button {
    -fx-background-color: transparent;
}
.table-view .scroll-bar:vertical .thumb,
.table-view .scroll-bar:horizontal .thumb {
    -fx-background-color: -color-border-default;
    -fx-background-radius: 5;
}


/* TabPane */
.tab-pane {
    -fx-background-color: transparent;
}
.tab-pane .tab-header-area {
    -fx-background-color: transparent;
}
.tab-pane .tab-header-background {
    -fx-background-color: transparent;
}
.tab-pane .tab {
    -fx-background-color: -color-bg-default;
    -fx-text-fill: -color-text-muted;
    -fx-background-radius: 5 5 0 0;
    -fx-padding: 8 15;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1 1 0 1;
    -fx-border-radius: 5 5 0 0;
    -fx-transition: all 0.2s ease-in-out;
}
.tab-pane .tab:selected {
    -fx-background-color: -color-bg-subtle;
    -fx-text-fill: -color-accent-emphasis;
    -fx-border-color: -color-accent-emphasis;
    -fx-border-width: 1 1 0 1;
    -fx-effect: dropshadow(gaussian, -color-accent-emphasis, 5, 0.2, 0, 0);
}
.tab-pane .tab:hover {
    -fx-background-color: -color-bg-hover;
    -fx-text-fill: -color-text-default;
}
.tab-pane .tab-content-area {
    -fx-background-color: -color-bg-subtle;
    -fx-background-radius: 0 0 10 10;
    -fx-border-color: -color-border-default;
    -fx-border-width: 0 1 1 1;
    -fx-border-radius: 0 0 10 10;
    -fx-padding: 20;
}

/* ScrollPane */
.scroll-pane {
    -fx-background-color: transparent;
    -fx-background: transparent; /* Para el viewport */
}
.scroll-pane .viewport {
    -fx-background-color: transparent;
}
.scroll-pane .scroll-bar:vertical .track,
.scroll-pane .scroll-bar:horizontal .track {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
    -fx-background-radius: 0;
}
.scroll-pane .scroll-bar:vertical .thumb,
.scroll-pane .scroll-bar:horizontal .thumb {
    -fx-background-color: -color-border-default;
    -fx-background-radius: 5;
}
.scroll-pane .scroll-bar:vertical .increment-button,
.scroll-pane .scroll-bar:vertical .decrement-button,
.scroll-pane .scroll-bar:horizontal .increment-button,
.scroll-pane .scroll-bar:horizontal .decrement-button {
    -fx-background-color: transparent;
    -fx-padding: 0;
}

/* Hyperlink */
.hyperlink {
    -fx-text-fill: -color-accent-emphasis;
    -fx-underline: true;
    -fx-transition: -fx-text-fill 0.2s ease-in-out;
}
.hyperlink:hover {
    -fx-text-fill: -color-text-on-accent; /* Más brillante al pasar el ratón */
}

/* Separator */
.separator {
    -fx-background-color: -color-border-default;
    -fx-padding: 0.5px; /* Grosor del separador */
}

/* ===================================================================
 * Estilos de Botones (Ajustes para el nuevo branding)
 * =================================================================== */

/* Estilos por defecto para otros botones, para asegurar consistencia */
.button {
    -fx-background-color: -color-bg-subtle;
    -fx-text-fill: -color-text-default;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-background-radius: 4;
    -fx-border-radius: 4;
    -fx-padding: 8 15;
    -fx-cursor: hand;
    -fx-transition: all 0.2s ease-in-out;
}

.button:hover {
    -fx-background-color: derive(-color-bg-subtle, 10%);
}

.button:pressed {
    -fx-background-color: derive(-color-bg-subtle, -10%);
}

/* Botón de 'Iniciar Sesión' (Clase .button-accent mejorada) */
.button-accent {
    -fx-background-color: linear-gradient(to bottom, derive(-color-accent-emphasis, 30%), -color-accent-emphasis);
    -fx-text-fill: -color-text-on-accent; /* Texto blanco sobre el acento */
    -fx-font-weight: bold;
    -fx-font-size: 1.3em; /* Más grande y prominente */
    -fx-padding: 12 25; /* Relleno generoso */
    -fx-background-radius: 6;
    -fx-border-radius: 6;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.4), 15, 0, 0, 3); /* Sombra más pronunciada */
    -fx-cursor: hand;
}

.button-accent:hover {
    -fx-background-color: linear-gradient(to bottom, derive(-color-accent-emphasis, 40%), derive(-color-accent-emphasis, 10%));
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 20, 0, 0, 4); /* Sombra más fuerte al pasar el ratón */
}

.button-accent:pressed {
    -fx-background-color: derive(-color-accent-emphasis, -10%);
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 5, 0, 0, 1); /* Sombra sutil al presionar */
}

.button.danger {
    -fx-background-color: -color-danger-emphasis;
    -fx-text-fill: -color-danger-fg;
}

.button.danger:hover {
    -fx-background-color: derive(-color-danger-emphasis, 20%);
    -fx-effect: dropshadow(gaussian, -color-danger-emphasis, 8, 0.3, 0, 0);
}

.button-outlined {
    -fx-background-color: transparent;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-border-radius: 5;
    -fx-background-radius: 5;
    -fx-text-fill: -color-text-default;
}

.button-outlined:hover {
    -fx-border-color: -color-accent-emphasis;
    -fx-text-fill: -color-accent-emphasis;
    -fx-background-color: -color-bg-hover;
}

.flat {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-default;
    -fx-border-width: 0;
}

.flat:hover {
    -fx-background-color: -color-bg-hover;
    -fx-text-fill: -color-accent-emphasis; /* Usar acento para el texto en hover */
}

.button.rounded {
    -fx-background-radius: 20;
    -fx-border-radius: 20;
    -fx-padding: 5 10;
}

/* ===================================================================
 * Estilos de Texto (Clases de utilidad)
 * =================================================================== */

.title-1 { -fx-font-size: 2.5em; -fx-font-weight: bold; -fx-text-fill: -color-text-default; }
.title-2 { -fx-font-size: 2.0em; -fx-font-weight: bold; -fx-text-fill: -color-text-default; }
.title-3 { -fx-font-size: 1.5em; -fx-font-weight: bold; -fx-text-fill: -color-text-default; }
.title-4 { -fx-font-size: 1.1em; -fx-font-weight: bold; -fx-text-fill: -color-text-default; } /* Mantengo tu definición de title-4 */
.text-muted { -fx-text-fill: -color-text-muted; }
.text-small { -fx-font-size: 0.85em; }
.text-bold { -fx-font-weight: bold; }

/* ===================================================================
 * Estilos de Contenedores y Componentes Personalizados
 * =================================================================== */

.background-subtle {
    -fx-background-color: -color-bg-subtle;
    -fx-background-radius: 10;
}

.card {
    -fx-background-color: -color-bg-subtle;
    -fx-background-radius: 10;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0, 0, 0);
}

.card-danger {
    -fx-background-color: -color-danger-muted;
    -fx-background-radius: 10;
    -fx-border-color: -color-danger-emphasis;
    -fx-border-width: 1;
    -fx-border-radius: 10;
}

.pagination-bar {
    -fx-background-color: -color-bg-subtle;
    -fx-background-radius: 10;
    -fx-padding: 10;
    -fx-spacing: 5;
    -fx-alignment: CENTER;
}

.toolbar {
    -fx-background-color: -color-bg-subtle;
    -fx-background-radius: 10;
    -fx-padding: 10;
    -fx-spacing: 10;
    -fx-alignment: CENTER_LEFT;
}

/* Estilos del Componente MovieCard */
.movie-card {
    -fx-background-color: -color-bg-subtle;
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-border-radius: 10;
    -fx-background-radius: 10;
    -fx-transition: all 0.2s ease-in-out;
}

.movie-card:hover {
    -fx-border-color: -color-accent-emphasis;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.4), 20, 0, 0, 3); /* Usar rgba para la sombra */
}

/* Estilos para los Chips (Géneros, Actores, etc.) */
.chip {
    -fx-background-color: -color-accent-muted; /* Fondo azul transparente */
    -fx-background-radius: 15; /* Esquinas redondeadas (ajustado a tu solicitud) */
    -fx-padding: 4 10; /* Relleno para mejor apariencia (ajustado a tu solicitud) */
    -fx-text-fill: #8be9fd; /* Texto azul claro (ajustado a tu solicitud) */
    -fx-transition: all 0.2s ease-in-out;
    -fx-font-size: 0.9em;
    -fx-alignment: CENTER;
    /* Eliminado: -fx-content-display: GRAPHIC_ONLY; para que el texto sea visible */
}
/* Asegura que el texto dentro de los chips también tenga el color correcto */
.chip .label, .tag .label {
    -fx-text-fill: #8be9fd;
}

.chip:hover {
    -fx-background-color: -color-accent-emphasis;
    -fx-text-fill: -color-text-on-accent;
    -fx-cursor: hand;
}

/* Estilos para el Rating de Estrellas */
.rating > .button {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-muted;
    -fx-font-size: 1.2em;
    -fx-padding: 0;
}

.rating > .button.strong {
    -fx-text-fill: -color-warning-emphasis;
    -fx-effect: dropshadow(gaussian, rgba(255, 184, 108, 0.4), 8, 0.5, 0, 0);
}
